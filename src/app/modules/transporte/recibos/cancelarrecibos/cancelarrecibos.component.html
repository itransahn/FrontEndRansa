<mat-card>
    <div #factura id ="Factura">
        <mat-card class="mat-cardContainerCuerpo mt-4" *ngIf="loading">
        <form [formGroup]="filtro">
            <div class="row">
                <div class="col-md-12 ">
                    <img src="../../../../../assets/images/logoRansa.ico" alt="">
                </div>
            
                <div class="col-md-12">
                    <mat-form-field appearance="legacy">
                        <mat-label>
                            <mat-icon> search </mat-icon>
                            Buscar
                        </mat-label>
                        <input matInput placeholder="Recibo, Factura , Sede, Asignado a, Cliente" formControlName="filtrar">
                    </mat-form-field>
                </div>

                <mat-divider class="mt-4 mb-4"> </mat-divider>

                    <div class="row" style="text-align: right !important;">
                        <div class="col-md-6 container"> 
                            <div class="text-left" >
                                <button mat-raised-button class="buttonPrincipal"  [disabled]="!loadingB" (click)="CancelarSeleccionados()" title="Guardar Cambios">
                                    <mat-icon>
                                        done_outline
                                    </mat-icon>
                                </button>
                            </div>
                        </div>
        
                        <div class="col-md-6 container">
                            <div class="text-left" >
                                <button mat-raised-button class="buttonPrincipal"  (click)="CancelarTodos()" title="Cancelar todos">
                                    <mat-icon>
                                        check_box
                                    </mat-icon>
                                </button>
                            </div>
                        </div>
                    </div>
            </div>
        </form>
        
        <!-- 
            <div *ngIf="!loading">
                <app-loading></app-loading>
            </div> -->
        
            <div class="table-responsive !important" *ngIf="loading">
                <table  >
                    <!-- <caption>Statement Summary</caption> -->
                    <thead>
                      <tr> 
                          <th scope="col">Cancelar         </th>  
                          <th scope="col">Fecha Recibo     </th>
                          <th scope="col">Fecha Factura    </th>
                          <th scope="col">Sede             </th>
                          <th scope="col">PRoveedor        </th>
                          <th scope="col">Tipo de Recibo   </th>
                        <th scope="col">Recibo         </th>
                        <th scope="col">Factura        </th>
                        <th scope="col">Valor Recibo   </th>
                        <th scope="col">Valor Factura  </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of data " class="trHover">
                        <td data-label="Cancelar" class="container"> 
                            <div class="form-check" >
                                <input #check class="form-check-input position-static" type="checkbox" (change)='checkOnClick(item.idRecibo,check.checked)'
                                id="blankCheckbox" value="option1" aria-label="...">
                            </div>
                        </td>
                        <td data-label="Fecha Recibo">   {{  item?.fechaR   | date  }}</td>
                        <td data-label="Fecha Factura">  {{  item?.fechaFactura   | date     }}</td>
                        <td data-label="Sede">           {{  item?.SEDE             }}</td> 
                        <td data-label="Sede">           {{  item?.proveedor        }}</td> 
                        <td data-label="Tipo de Recibo"> {{  item?.ORDEN   }}</td>
                        <td data-label="Recibo">         {{  item?.ReciboC           }}</td>
                        <td data-label="Factura">        {{  item?.Nfactura          }}</td>
                        <td data-label="Valor Recibo">   {{  item?.valorRecibo   | currency: 'Lps '   }}</td>
                        <td data-label="Valor Factura" [ngStyle]="{'color':item?.valorFacturaa > item?.valorRecibo ? 'red' : 'green' }">  {{  item?.valorFacturaa  | currency: 'Lps '  }}</td>
                      </tr>
                    </tbody>
                    <tfoot *ngIf=" hastaF >= data.length">
                        <tr >
                            <th ></th>
                            <th ></th>
                            <th ></th>
                            <th ></th>
                            <th ></th>
                            <th ></th>
                            <th ></th>
                            <th > TOTALES</th>
                            <th > {{ recibos  | currency : 'Lps '}} </th>
                            <th > {{ facturas | currency : 'Lps '}} </th>
    
                        </tr>
        
                        <!-- ISV -->
                            <!-- <tr class="footer">
                            <th class="footer"></th>
                            <th class="footerDetalle titulo"> ISV </th>
                            <th class="footerDetalle"> {{ ( subTotal * 0.15 ) | currency : 'Lps '}} </th>
                            </tr>
                    
                        <tr class="footer">
                        <th class="footer"></th>
                        <th class="footerDetalle titulo"> Total Factura </th>
                        <th class="footerDetalle"> {{ ( subTotal * 0.15 ) + subTotal | currency : 'Lps '}} </th>
                        </tr> -->
                      </tfoot>  
                </table>  
               </div>
        
                  <mat-paginator [length]="data.length" [pageSize]="pageSize " (page)="next($event)">
                </mat-paginator>
        </mat-card>
    
    </div>
</mat-card>